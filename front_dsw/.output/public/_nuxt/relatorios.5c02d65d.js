import{a as b,_ as k}from"./axios-config.7911fab8.js";import{_ as C,r as d,c as i,b as D,a as t,s as y,v as w,F as g,z as E,A as $,o as c,t as s,p as F,e as R}from"./entry.acdcd3de.js";import"./axios.3a76d256.js";const v=u=>(F("data-v-921669f7"),u=u(),R(),u),S={class:"table-pesquisa"},U={class:"custom-table-pesquisa"},V=v(()=>t("thead",null,[t("tr",null,[t("th",null,"Data Incial"),t("th",null,"Data Final")])],-1)),q={class:"table-pesquisa-datas"},N={class:"table-pesquisa-datas"},z={class:"page-container"},B=v(()=>t("br",null,null,-1)),L={key:0,class:"table-container"},H={class:"custom-table"},P=v(()=>t("thead",null,[t("tr",null,[t("th",null,"ID Estufa"),t("th",null,"Nome Estufa"),t("th",null,"Localização"),t("th",null,"Capacidade"),t("th",null,"Umidade (%)"),t("th",null,"Temperatura (°C)"),t("th",null,"Data"),t("th",null,"Hora")])],-1)),T=["onClick"],h="http://localhost:4000",A={__name:"relatorios",setup(u){const r=d([]),_=d(),o=d(null),n=d(null),m=async()=>{if(_.value=`${h}/relatorios?dataInicio=${o.value}&dataFim=${n.value}`,!o.value&&!n.value)_.value=`${h}/relatorio`;else if(!o.value||!n.value){window.alert("Selecione as duas datas");return}try{const l=await b.get(_.value);console.log(l),r.value=l.data}catch(l){console.error("Erro ao buscar dados:",l),l.response.status===401&&window.alert("Usuário não autenticado")}},x=async l=>{try{const e=await b.delete(`${h}/deleterelatorio/${l}`);m(),console.log(e),window.alert("Relatório Excluído")}catch(e){e.response.status===401&&window.alert("Usuário não autenticado"),window.alert("Erro ao excluir relatório"),console.log(e)}},I=l=>{var e=l.match(/\d+/g),p=e[0],a=e[1],f=e[2];return f+"/"+a+"/"+p};return(l,e)=>{const p=k;return c(),i(g,null,[D(p),t("div",S,[t("table",U,[V,t("tbody",null,[t("tr",null,[t("td",q,[y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),class:"datas",type:"date",id:"dataInicio"},null,512),[[w,o.value]])]),t("td",N,[y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),class:"datas",type:"date",id:"dataFinal"},null,512),[[w,n.value]])]),t("td",null,[t("button",{class:"button",onClick:m},"Listar Relatórios")])])])])]),t("div",z,[B,r.value.length!==0?(c(),i("div",L,[t("table",H,[P,t("tbody",null,[(c(!0),i(g,null,E(r.value,a=>(c(),i("tr",{key:a.id},[t("td",null,s(a.estufa.id),1),t("td",null,s(a.estufa.nome),1),t("td",null,s(a.estufa.localizacao),1),t("td",null,s(a.estufa.capacidade),1),t("td",null,s(a.umidade)+"%",1),t("td",null,s(a.temperatura)+"°C",1),t("td",null,s(I(a.data)),1),t("td",null,s(a.hora),1),t("td",null,[t("button",{class:"button-delete",onClick:f=>x(a.id)}," Excluir",8,T)])]))),128))])])])):$("",!0)])],64)}}},J=C(A,[["__scopeId","data-v-921669f7"]]);export{J as default};
