import{_ as p,u as h,n as g,c as f,a as s,q as m,s as r,v as c,o as b,p as v,e as w}from"./entry.acdcd3de.js";import{a as x}from"./axios.3a76d256.js";const o=a=>(v("data-v-5c9241cf"),a=a(),w(),a),S={class:"page-container"},y={class:"login-container"},U=o(()=>s("h2",{class:"titulo"},"Login",-1)),k=o(()=>s("hr",null,null,-1)),I=o(()=>s("br",null,null,-1)),B=["onSubmit"],L=o(()=>s("label",{class:"label",for:"user"},"Usuário:",-1)),q=o(()=>s("label",{class:"label",for:"pass"},"Senha:",-1)),C=o(()=>s("button",{class:"button",type:"submit"},"Entrar",-1)),E=o(()=>s("label",{style:{"align-self":"center"}},"ou",-1)),V={__name:"index",setup(a){const l=h(),t=g({loginUser:"",senha:""}),d=async()=>{try{const e=await x.post("http://localhost:5000/auth/login",{login:t.loginUser,senha:t.senha});if(console.log(e),e.status===201){console.log("Login bem-sucedido");const n=e.data.token;window.alert("Login Bem sucedido"),localStorage.setItem("token",n),u()}else console.error("Falha no login")}catch(e){e.response.status===404&&window.alert("Login não existe"),e.response.status===422&&window.alert("Senha incorreta")}},u=()=>{l.push("status")},_=()=>{l.push("cadastro")};return(e,n)=>(b(),f("div",S,[s("div",y,[U,k,I,s("form",{class:"form",onSubmit:m(d,["prevent"])},[L,r(s("input",{class:"input",type:"text",id:"loginUser","onUpdate:modelValue":n[0]||(n[0]=i=>t.loginUser=i),required:""},null,512),[[c,t.loginUser]]),q,r(s("input",{class:"input",type:"password",id:"senha","onUpdate:modelValue":n[1]||(n[1]=i=>t.senha=i),required:""},null,512),[[c,t.senha]]),C,E],40,B),s("button",{class:"button",onClick:_},"Cadastre-se")])]))}},D=p(V,[["__scopeId","data-v-5c9241cf"]]);export{D as default};
