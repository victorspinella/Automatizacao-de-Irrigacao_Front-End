{"version":3,"file":"index-7d0b74a9.js","sources":["../../../../pages/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-container\">\r\n    <div class=\"login-container\">\r\n      <h2 class=\"titulo\">Login</h2>\r\n      <hr>\r\n      <br>\r\n\r\n      <form class=\"form\" @submit.prevent=\"loginEstufa\">\r\n        <label class=\"label\" for=\"user\">Usuário:</label>\r\n        <input class=\"input\" type=\"text\" id=\"loginUser\" v-model=\"data.loginUser\" required>\r\n\r\n        <label class=\"label\" for=\"pass\">Senha:</label>\r\n        <input class=\"input\" type=\"password\" id=\"senha\" v-model=\"data.senha\" required>\r\n\r\n        <button class=\"button\" type=\"submit\">Entrar</button>\r\n        <label style=\"align-self: center;\">ou</label>\r\n      </form>\r\n\r\n      <button class=\"button\" @click=\"irParaCadastro\">Cadastre-se</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { reactive } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from 'axios';\r\n\r\nconst router = useRouter();\r\n\r\n\r\nconst data = reactive({\r\n  loginUser: '',\r\n  senha: ''\r\n});\r\n\r\nconst loginEstufa = async () => {\r\n  try {\r\n\r\n    const response = await axios.post('http://localhost:5000/auth/login', {\r\n      login: data.loginUser,\r\n      senha: data.senha\r\n    });\r\n\r\n    console.log(response)\r\n\r\n    if (response.status === 201) {\r\n      console.log('Login bem-sucedido');\r\n\r\n      const token = response.data.token;\r\n\r\n      window.alert(\"Login Bem sucedido\")\r\n\r\n      localStorage.setItem('token', token);\r\n\r\n      irParaStatus();\r\n    } else {\r\n      console.error('Falha no login');\r\n      // Tratar falha no login, exibir mensagem de erro, etc.\r\n    }\r\n  } catch (error) {\r\n\r\n    if (error.response.status === 404) {\r\n      window.alert(\"Login não existe\")\r\n    }\r\n\r\n    if (error.response.status === 422) {\r\n      window.alert(\"Senha incorreta\")\r\n    }\r\n    \r\n  }\r\n};\r\n\r\nconst irParaStatus = () => {\r\n  router.push('status');\r\n}\r\n\r\nconst irParaCadastro = () => {\r\n  router.push('cadastro');\r\n};\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.titulo {\r\n  font-size: x-large;\r\n  align-self: center;\r\n  font-weight: 700;\r\n}\r\n\r\n.page-container {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  height: 100vh;\r\n  flex-direction: column;\r\n}\r\n\r\n.login-container {\r\n  width: 400px;\r\n  margin: auto;\r\n  padding: 20px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  margin-top: 5%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: baseline;\r\n}\r\n\r\n.label {\r\n  margin-bottom: 8px;\r\n  margin-left: 5%;\r\n}\r\n\r\n.input {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border: 2px solid black;\r\n  border-radius: 5px;\r\n  width: 90%;\r\n  align-self: center;\r\n}\r\n\r\n.button {\r\n  margin: 10px;\r\n  padding: 5px 5px;\r\n  background-color: #007BFF;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n  width: 90%;\r\n  align-self: center;\r\n}\r\n\r\n.button:hover {\r\n  background-color: #75aae2;\r\n}\r\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AA6Be,cAAY;AAG3B,UAAM,OAAO,SAAS;AAAA,MACpB,WAAW;AAAA,MACX,OAAO;AAAA,IACT,CAAC;;;;;;;;;;;;;"}