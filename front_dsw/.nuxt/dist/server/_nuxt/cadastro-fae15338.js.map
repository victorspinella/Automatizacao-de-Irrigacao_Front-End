{"version":3,"file":"cadastro-fae15338.js","sources":["../../../../pages/cadastro.vue"],"sourcesContent":["<template>\r\n    <div class=\"page-container\">\r\n        <div class=\"login-container\">\r\n            <h2 class=\"titulo\">Cadastre-se</h2>\r\n            <hr>\r\n            <br>\r\n\r\n            <form class=\"form\" @submit.prevent=\"cadastroUsuario\">\r\n                <label class=\"label\" for=\"user\">Novo usuário:</label>\r\n                <input class=\"input\" type=\"text\" id=\"loginUser\" v-model=\"data.loginUser\" required>\r\n\r\n                <label class=\"label\" for=\"pass\">Nova senha:</label>\r\n                <input class=\"input\" type=\"password\" id=\"senha\" v-model=\"data.senha\" required>\r\n\r\n\r\n                <label class=\"label\" for=\"pass\">Confirmação de senha:</label>\r\n                <input class=\"input\" type=\"password\" id=\"senhaConfirmatiom\" v-model=\"data.senhaConfirmation\" required>\r\n\r\n                <button class=\"button\" type=\"submit\">Cadastrar</button>\r\n\r\n                <br>\r\n\r\n            </form>\r\n            <hr>\r\n            <label style=\"align-self: center;\">Já possui conta?</label>\r\n            <button class=\"button\" @click=\"irParaLogin\">Fazer login</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n  \r\n<script setup>\r\n\r\nimport { reactive } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from 'axios';\r\n\r\nconst router = useRouter();\r\n\r\n\r\nconst data = reactive({\r\n    loginUser: '',\r\n    senha: '',\r\n    senhaConfirmation: ''\r\n});\r\n\r\nconst cadastroUsuario = async () => {\r\n    try {\r\n\r\n        const response = await axios.post('http://localhost:5000/auth/register', {\r\n            login: data.loginUser,\r\n            senha: data.senha,\r\n            senhaConfirmation: data.senhaConfirmation\r\n        });\r\n\r\n\r\n        if (response.status === 201) {\r\n\r\n            const token = response.data.token;\r\n\r\n            window.alert(\"Cadastro realizado com sucesso\")\r\n\r\n            localStorage.setItem('token', token);\r\n\r\n            irParaLogin();\r\n        } else {\r\n            console.error('Falha no login');\r\n            // Tratar falha no login, exibir mensagem de erro, etc.\r\n        }\r\n    } catch (error) {\r\n\r\n        if (error.response.status === 422) {\r\n            window.alert(\"Login já existe\")\r\n        }\r\n\r\n        if (error.response.status === 423) {\r\n            window.alert(\"Senhas não coicidem\")\r\n        }\r\n\r\n    }\r\n};\r\n\r\n\r\n\r\nconst irParaLogin = () => {\r\n    router.push('/');\r\n};\r\n\r\n\r\n</script>\r\n  \r\n<style lang=\"scss\" scoped>\r\n.titulo {\r\n    font-size: x-large;\r\n    align-self: center;\r\n    font-weight: 700;\r\n}\r\n\r\n.page-container {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    height: 110vh;\r\n    flex-direction: column;\r\n}\r\n\r\n.login-container {\r\n    width: 400px;\r\n    margin: auto;\r\n    padding: 20px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n    margin-top: 5%;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: baseline;\r\n}\r\n\r\n.label {\r\n    margin-bottom: 8px;\r\n    margin-left: 5%;\r\n}\r\n\r\n.input {\r\n    padding: 8px;\r\n    margin-bottom: 16px;\r\n    border: 2px solid black;\r\n    border-radius: 5px;\r\n    width: 90%;\r\n    align-self: center;\r\n}\r\n\r\n.button {\r\n    margin: 10px;\r\n    padding: 5px 5px;\r\n    background-color: #007BFF;\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s ease;\r\n    width: 90%;\r\n    align-self: center;\r\n}\r\n\r\n.button:hover {\r\n    background-color: #75aae2;\r\n}\r\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoCe,cAAY;AAG3B,UAAM,OAAO,SAAS;AAAA,MAClB,WAAW;AAAA,MACX,OAAO;AAAA,MACP,mBAAmB;AAAA,IACvB,CAAC;;;;;;;;;;;;;"}